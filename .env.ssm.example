# AWS Systems Manager Parameter Store - Secrets Configuration
# 
# This file defines all secrets that will be injected into AWS SSM Parameter Store.
#
# Usage:
#   Option 1 (Manual): Copy this file to .env.ssm and fill in values
#     cp .env.ssm.example .env.ssm
#     # Edit .env.ssm with your actual secrets
#     ./scripts/bootstrap/08-inject-ssm-parameters.sh
#
#   Option 2 (CI/CD): Set environment variables and let generate-env-ssm.sh create it
#     Required env vars: BOT_GITHUB_USERNAME, BOT_GITHUB_TOKEN, TENANTS_REPO_URL, etc.
#     ./scripts/bootstrap/helpers/generate-env-ssm.sh
#
# Format:
#   /path/to/parameter=value
#
# Notes:
#   - All parameters are created as SecureString (encrypted at rest)
#   - .env.ssm is gitignored for security

# ============================================================================
# Global LLM API Keys (Optional - for AI services)
# ============================================================================
# Environment variable: OPENAI_API_KEY
/zerotouch/prod/openai_api_key=sk-your-openai-api-key-here

# Environment variable: ANTHROPIC_API_KEY
/zerotouch/prod/anthropic_api_key=sk-ant-your-anthropic-api-key-here

# ============================================================================
# AWS Credentials for AgentSandbox S3 Operations (Required)
# ============================================================================
# Environment variable: AWS_ACCESS_KEY_ID
/zerotouch/prod/aws-access-key-id=<AWS_ACCESS_KEY_ID>

# Environment variable: AWS_SECRET_ACCESS_KEY  
/zerotouch/prod/aws-secret-access-key=<AWS_SECRET_ACCESS_KEY>

# Environment variable: AWS_REGION
/zerotouch/prod/aws-default-region=us-east-1

# ============================================================================
# AWS Credentials for AgentSandbox S3 Operations (Required)
# ============================================================================
# Environment variable: AWS_ACCESS_KEY_ID
/zerotouch/prod/aws-access-key-id=<AWS_ACCESS_KEY_ID>

# Environment variable: AWS_SECRET_ACCESS_KEY  
/zerotouch/prod/aws-secret-access-key=<AWS_SECRET_ACCESS_KEY>

# Environment variable: AWS_REGION
/zerotouch/prod/aws-default-region=ap-south-1

# ============================================================================
# Hetzner Cloud Credentials (Required for Public Gateway)
# ============================================================================
# Environment variable: HETZNER_API_TOKEN
# Used for: Hetzner Cloud Controller Manager (LoadBalancer provisioning)
/zerotouch/prod/hetzner/api-token=<HETZNER_API_TOKEN>

# Environment variable: HETZNER_DNS_TOKEN  
# Used for: External-DNS controller (DNS record management)
/zerotouch/prod/hetzner/dns-token=<HETZNER_DNS_TOKEN>

# ============================================================================
# GitHub Credentials (Required)
# ============================================================================
# Environment variable: BOT_GITHUB_USERNAME
# Used for: GHCR image pulls, ArgoCD repo access
/zerotouch/prod/ghcr/username=<BOT_GITHUB_USERNAME>
/zerotouch/prod/github/username=<BOT_GITHUB_USERNAME>

# Environment variable: BOT_GITHUB_TOKEN
# Generate at: https://github.com/settings/tokens (scopes: repo, read:packages)
/zerotouch/prod/ghcr/password=<BOT_GITHUB_TOKEN>
/zerotouch/prod/github/token=<BOT_GITHUB_TOKEN>

# ============================================================================
# ArgoCD Repository Credentials (Required)
# ============================================================================
# Tenant Registry Repository
# Environment variable: TENANTS_REPO_URL (auto-built from BOT_GITHUB_USERNAME + TENANTS_REPO_NAME)
/zerotouch/prod/argocd/repos/zerotouch-tenants/url=https://github.com/<BOT_GITHUB_USERNAME>/<TENANTS_REPO_NAME>.git
/zerotouch/prod/argocd/repos/zerotouch-tenants/username=<BOT_GITHUB_USERNAME>
/zerotouch/prod/argocd/repos/zerotouch-tenants/password=<BOT_GITHUB_TOKEN>

# ============================================================================
# Add more tenant repositories following the same pattern:
# /zerotouch/prod/argocd/repos/<tenant-name>/url=https://github.com/<org>/<repo>.git
# /zerotouch/prod/argocd/repos/<tenant-name>/username=<BOT_GITHUB_USERNAME>
# /zerotouch/prod/argocd/repos/<tenant-name>/password=<BOT_GITHUB_TOKEN>
# ============================================================================

# ============================================================================
# IDE Orchestrator Service Secrets (Required for ide-orchestrator service)
# ============================================================================
# Environment variable: JWT_SECRET
# Used for: JWT token signing and validation
/zerotouch/prod/ide-orchestrator/jwt-secret=<JWT_SECRET>

# Environment variable: SPEC_ENGINE_URL  
# Used for: Connection to Spec Engine service
/zerotouch/prod/ide-orchestrator/spec-engine-url=<SPEC_ENGINE_URL>

# ============================================================================
# Identity Service Secrets (Required for identity-service)
# ============================================================================
# OIDC Configuration
/zerotouch/prod/identity-service/oidc_issuer=<OIDC_ISSUER>
/zerotouch/prod/identity-service/oidc_client_id=<OIDC_CLIENT_ID>
/zerotouch/prod/identity-service/oidc_client_secret=<OIDC_CLIENT_SECRET>
/zerotouch/prod/identity-service/oidc_redirect_uri=<OIDC_REDIRECT_URI>
/zerotouch/prod/identity-service/allowed_redirect_uris=<ALLOWED_REDIRECT_URIS>

# Database Connection (Neon PostgreSQL)
/zerotouch/prod/identity-service/database_url=<DATABASE_URL>

# JWT Keys and Token Security
/zerotouch/prod/identity-service/jwt_private_key=<JWT_PRIVATE_KEY>
/zerotouch/prod/identity-service/jwt_public_key=<JWT_PUBLIC_KEY>
/zerotouch/prod/identity-service/jwt_key_id=<JWT_KEY_ID>
/zerotouch/prod/identity-service/jwt_previous_private_key=<JWT_PREVIOUS_PRIVATE_KEY>
/zerotouch/prod/identity-service/jwt_previous_public_key=<JWT_PREVIOUS_PUBLIC_KEY>
/zerotouch/prod/identity-service/jwt_previous_key_id=<JWT_PREVIOUS_KEY_ID>
/zerotouch/prod/identity-service/token_pepper=<TOKEN_PEPPER>
